!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){e.exports=React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=(n.n(r),n(2)),i=(n.n(a),n(3)),o=document.querySelector("TransitionSet");if(o){var s=o.querySelector('input[ type="hidden" ]'),u=Object(r.createElement)(i.a,{states:JSON.parse(o.getAttribute("states")),transitions:JSON.parse(s.value),input:s.name,step:o.getAttribute("step")||60,since:o.getAttribute("since")});Object(a.render)(u,o)}},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=(n.n(s),n(4)),l=n.n(u),c=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=Drupal.t,f=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.transitions||[],o=Object.entries(e.states);return n.state={transitions:r.map(function(e){return e.when=new Date(e.when),e})},n.since=e.since?new Date(e.since):0,n.defaultState=o[0][0],n.stateOptions=o.map(function(e){var t=c(e,2),n=t[0],r=t[1];return React.createElement("option",{key:n,value:n},r)}),n}return o(t,e),d(t,[{key:"renderSaved",value:function(e,t){var n=this,r=this.props.states[e.state],a=l()(e.when,"longDate"),i=l()(e.when,"shortTime"),o=function(e){e.preventDefault(),n.setState(function(e){return e.transitions.splice(t,1),e})},s=m("Remove transition to @state on @date at @time",{"@state":r,"@date":a,"@time":i}),u=["scheduled-transition"];return e.when<this.since&&u.push("past"),React.createElement("div",{className:u.join(" ")},m("Change to")," ",React.createElement("b",null,r)," ",m("on")," ",a," ",m("at")," ",i," ",React.createElement("a",{title:s,href:"#",onClick:o},m("remove")))}},{key:"renderForm",value:function(){return Object(s.createElement)("div",{className:"scheduled-transition"},m("Change to"),this.renderStateControl(),m("on"),this.renderDateControl(),m("at"),this.renderTimeControl(),this.renderFormActions())}},{key:"renderStateControl",value:function(){var e=this,t=function(t){var n=t.target;e.setState(function(e){return e.edit.state=n.options[n.selectedIndex].value,e})},n=this.state.edit.state;return React.createElement("label",null,React.createElement("span",{hidden:!0},m("Scheduled moderation state")),React.createElement("select",{defaultValue:n,onChange:t},this.stateOptions))}},{key:"renderDateControl",value:function(){var e=this,t=function(t){var n=t.target;n.checkValidity()&&e.setState(function(e){var t,a=n.value.split("-");return a[1]--,(t=e.edit.when).setFullYear.apply(t,r(a)),e})},n=l()(this.state.edit.when,"isoDate");return React.createElement("label",null,React.createElement("span",{hidden:!0},m("Scheduled transition date")),React.createElement("input",{required:!0,defaultValue:n,type:"date",onChange:t}))}},{key:"renderTimeControl",value:function(){var e=this,t=function(t){var n=t.target;n.checkValidity()&&e.setState(function(e){var t;return(t=e.edit.when).setHours.apply(t,r(n.value.split(":"))),e})},n=l()(this.state.edit.when,"isoTime");return React.createElement("label",null,React.createElement("span",{hidden:!0},m("Scheduled transition time")),React.createElement("input",{required:!0,defaultValue:n,type:"time",onChange:t,step:this.props.step}))}},{key:"renderFormActions",value:function(){var e=this,t=function(t){t.preventDefault(),e.setState(function(e){return e.edit=null,e})},n=function(t){t.preventDefault(),e.setState(function(e){return e.transitions.push(e.edit),e.edit=null,e})};return React.createElement("span",null,React.createElement("button",{className:"button",title:m("Save transition"),onClick:n},m("Save"))," ",m("or")," ",React.createElement("a",{title:m("Cancel transition"),href:"#",onClick:t},m("cancel")))}},{key:"render",value:function(){var e=this,t=this.state.transitions,n=[Object(s.createElement)("input",{type:"hidden",name:this.props.input,value:JSON.stringify(t)}),t.map(function(t,n){return e.renderSaved(t,n)})];return n.push(this.state.edit?this.renderForm():this.renderAddLink()),n}},{key:"renderAddLink",value:function(){var e=this,t=function(t){t.preventDefault(),e.add()},n=m(this.state.transitions.length?"add another":"Schedule a status change");return React.createElement("a",{href:"#",onClick:t},n)}},{key:"add",value:function(){var e=this;this.setState(function(t){t.edit={state:e.defaultState,when:new Date};var n=t.transitions.slice(-1).shift();return n&&t.edit.when.setTime(n.when.getTime()),t})}}]),t}(s.Component);t.a=f},function(e,t,n){var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(i){"use strict";function o(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function s(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var a=(t-n)/6048e5;return 1+Math.floor(a)}function u(e){var t=e.getDay();return 0===t&&(t=7),t}function l(e){return null===e?"null":void 0===e?"undefined":"object"!==(void 0===e?"undefined":a(e))?void 0===e?"undefined":a(e):Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}var c=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(r,a,i,d){if(1!==arguments.length||"string"!==l(r)||/\d/.test(r)||(a=r,r=void 0),r=r||new Date,r instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");a=String(c.masks[a]||a||c.masks.default);var m=a.slice(0,4);"UTC:"!==m&&"GMT:"!==m||(a=a.slice(4),i=!0,"GMT:"===m&&(d=!0));var f=i?"getUTC":"get",y=r[f+"Date"](),h=r[f+"Day"](),p=r[f+"Month"](),v=r[f+"FullYear"](),g=r[f+"Hours"](),b=r[f+"Minutes"](),S=r[f+"Seconds"](),T=r[f+"Milliseconds"](),M=i?0:r.getTimezoneOffset(),D=s(r),w=u(r),O={d:y,dd:o(y),ddd:c.i18n.dayNames[h],dddd:c.i18n.dayNames[h+7],m:p+1,mm:o(p+1),mmm:c.i18n.monthNames[p],mmmm:c.i18n.monthNames[p+12],yy:String(v).slice(2),yyyy:v,h:g%12||12,hh:o(g%12||12),H:g,HH:o(g),M:b,MM:o(b),s:S,ss:o(S),l:o(T,3),L:o(Math.round(T/10)),t:g<12?c.i18n.timeNames[0]:c.i18n.timeNames[1],tt:g<12?c.i18n.timeNames[2]:c.i18n.timeNames[3],T:g<12?c.i18n.timeNames[4]:c.i18n.timeNames[5],TT:g<12?c.i18n.timeNames[6]:c.i18n.timeNames[7],Z:d?"GMT":i?"UTC":(String(r).match(t)||[""]).pop().replace(n,""),o:(M>0?"-":"+")+o(100*Math.floor(Math.abs(M)/60)+Math.abs(M)%60,4),S:["th","st","nd","rd"][y%10>3?0:(y%100-y%10!=10)*y%10],W:D,N:w};return a.replace(e,function(e){return e in O?O[e]:e.slice(1,e.length-1)})}}();c.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},c.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0!==(r=function(){return c}.call(t,n,t,e))&&(e.exports=r)}()}]);